{"version":3,"sources":["services/persons.js","components/Book.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","getAll","axios","get","then","response","data","getPerson","id","concat","create","personObject","post","update","updatedPerson","put","delPerson","delete","Book","_ref","displayedPeople","persons","setPersons","console","log","map","person","name","react_default","a","createElement","key","number","type","value","onClick","personToDelete","window","confirm","updatedPersons","filter","personService","deletePerson","PersonForm","newName","setNewName","newNumber","setNewNumber","addPersonToServer","updatePerson","setDisplayMsg","setDisplayType","onSubmit","event","preventDefault","trim","length","some","personEntry","find","entry","updatedPersonEntry","Object","objectSpread","catch","error","onChange","target","Filter","setSearchTerm","searchTerm","Notification","message","displayType","className","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","displayMsg","_useState11","_useState12","displayedPersons","toLowerCase","includes","useEffect","components_Notification","components_Filter","components_PersonForm","components_Book","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.8c297318.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getPerson = (id) => {\r\n    const request = axios.get(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (personObject) => {\r\n    const request = axios.post(baseUrl, personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, updatedPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst delPerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, getPerson, create, update, delPerson}","import React from 'react';\r\nimport personService from \"../services/persons\"\r\n\r\nconst Book = ({displayedPeople, persons, setPersons}) => {\r\n  const deletePerson = (personToDelete) => {    \r\n    const confirmed = window.confirm(`Delete ${personToDelete.name}?`)\r\n\r\n    if (!confirmed) {\r\n      return\r\n    }\r\n    const updatedPersons = persons.filter(person => person.id !== personToDelete.id)\r\n    \r\n    console.log(`Deleting person '${personToDelete.name}' with id ${personToDelete.id}`)\r\n\r\n    personService.delPerson(personToDelete.id)\r\n    setPersons(updatedPersons)\r\n  }\r\n\r\n  console.log(`Current people: ${displayedPeople.map(person => `name: ${person.name}, id: ${person.id} |`)}`)\r\n  return (\r\n    displayedPeople.map(person => \r\n      <div key={person.id}>\r\n        <span>{person.name} {person.number}</span> \r\n        <input type=\"submit\" value=\"delete\" onClick={() => deletePerson(person)}></input>\r\n      </div>\r\n    )\r\n  )\r\n}\r\n\r\n  export default Book ","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n        persons,\r\n        setPersons,\r\n        newName, \r\n        setNewName, \r\n        newNumber, \r\n        setNewNumber,\r\n        addPersonToServer,\r\n        updatePerson,\r\n        setDisplayMsg,\r\n        setDisplayType\r\n        }) => {\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        if (newName.trim().length === 0 || newNumber.trim().length === 0) {\r\n          setDisplayType('error')\r\n          setDisplayMsg(`Cannot leave name/number blank!`)\r\n          return\r\n        }\r\n        \r\n        if (persons.some(person => person.name === newName)) {\r\n          const replace = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n          if (!replace) {\r\n            return\r\n          } else {\r\n            const personEntry = persons.find(entry => entry.name === newName)\r\n            const updatedPersonEntry = {\r\n              ...personEntry,\r\n              number: newNumber\r\n            }\r\n\r\n            updatePerson(updatedPersonEntry.id, updatedPersonEntry)\r\n              .then(response => {\r\n                console.log(response)\r\n                setPersons(persons.map(\r\n                  person => {\r\n                    if (person.name === newName) {\r\n                      return updatedPersonEntry\r\n                    } else {\r\n                      return person\r\n                    }\r\n                  })\r\n                )\r\n              })\r\n              .catch(error => {\r\n                setDisplayType('error')\r\n                setDisplayMsg(`Information of ${newName} has already been removed from server!`)\r\n              })\r\n          }\r\n        } else {\r\n          const nameObject = {\r\n            name: newName,\r\n            number: newNumber\r\n          }\r\n    \r\n          \r\n          addPersonToServer(nameObject)\r\n            .then(response => {\r\n              console.log(response)\r\n              setPersons(persons.concat(response))\r\n              setDisplayType('message')\r\n              setDisplayMsg(`Added ${response.name}`)\r\n            })\r\n        }\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        console.log(event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n            name: <input value={newName} onChange={handleNameChange}/>\r\n            </div>\r\n            <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Filter = ({\r\n        setSearchTerm,\r\n        searchTerm\r\n        }) => {\r\n    const handleSearchChange = (event) => {\r\n        setSearchTerm(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input value={searchTerm} onChange={handleSearchChange}></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Notification = ({message, displayType}) => {\r\n    if (message === \"\") {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={displayType}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\nimport { useState, useEffect } from 'react'\r\n\r\nimport './index.css'\r\nimport Book from './components/Book'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]) \r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [displayMsg, setDisplayMsg] = useState('')\r\n  const [displayType, setDisplayType] = useState('message')\r\n\r\n  const displayedPersons = searchTerm === \"\"\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(searchTerm.toLowerCase()))\r\n\r\n  useEffect(() =>{\r\n    console.log('Effect')\r\n    personService.getAll()\r\n      .then(data => {\r\n        console.log(\"Promise Fufilled\")\r\n        setPersons(data)\r\n      })\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={displayMsg} displayType={displayType}/>\r\n      <Filter setSearchTerm={setSearchTerm} searchTerm={searchTerm}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm persons={persons} \r\n        setPersons={setPersons} \r\n        newName={newName} \r\n        setNewName={setNewName} \r\n        newNumber={newNumber} \r\n        setNewNumber={setNewNumber}\r\n        addPersonToServer={personService.create}\r\n        updatePerson={personService.update}\r\n        setDisplayMsg={setDisplayMsg}\r\n        setDisplayType={setDisplayType}/>\r\n      <h2>Numbers</h2>\r\n      <Book displayedPeople={displayedPersons} persons={persons} setPersons={setPersons}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\n\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n\r\n"],"sourceRoot":""}